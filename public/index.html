<!doctype html>
<html class="no-js" lang="">

<head>
    <meta charset="utf-8">
    <title>m-components</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, max-scale=1, shrink-to-fit=no, user-scalable=no">

    <link rel="apple-touch-icon" href="icon.png">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./m-components.css">
    <!-- Place favicon.ico in the root directory -->
</head>

<body>

    <section>
      <h2>按钮</h2>
      <button class="mc-button">确认</button>
      <br>
      <button class="mc-button" disabled>确认</button>
      <br>
      <button class="mc-button" type="danger">确认</button>
      <br>
      <button class="mc-button" type="danger" disabled>确认</button>
    </section>

    <section>
      <h2>表单</h2>
      <form>
        <div class="mc-form-item-group">
          <div class="mc-form-item">
            <label for="account">
              <span class="required">*</span>
              文本
            </label> <input type="text" placeholder="请输入">
          </div>
          <div class="mc-form-item">
              <label for="account">文本</label> <input type="text" placeholder="请输入">
            </div>
          <div class="mc-form-item">
            <label for="password">密码</label> <input type="password" placeholder="请输入">
          </div>
          <div class="mc-form-item">
            <textarea  placeholder="多行文本"></textarea>
          </div>
          <div class="mc-form-item">
            <label>选择</label>
            <select>
              <option value="1">选项1</option>
              <option value="2">选项2</option>
            </select>
            <span></span>
          </div>
          <div class="mc-form-item">
            <div class="mc-radio" type="plus">
              <label class="mc-radio-item">
                <input type="radio" name="name1"></input>
                <span class="mc-radio-icon"></span>
                <span>选项1</span>
              </label>
              <label class="mc-radio-item">
                <input type="radio" name="name1"></input>
                <span class="mc-radio-icon"></span>
                <span>选项2</span>
              </label>
              <label class="mc-radio-item">
                <input type="radio" name="name1"></input>
                <span class="mc-radio-icon"></span>
                <span>选项3</span>
              </label>
            </div>
          </div>
          <div class="mc-form-item">
            <label>滚动选择</label>
            <span class="select-content">请选择</span>
          </div>
          <div class="mc-form-item mc-form-message" type="error">
            <span>错误</span>
          </div>
        </div>
      </form>
    </section>

    <section>
      <form>
        <!-- <div class="mc-form-item-group"> -->
          <div class="mc-form-item-textarea">
            <label><span class="required">*</span> 说明</label>
            <div class="textarea-wrapper">
              <textarea placeholder="最多输入500字" name="" id="" rows="10" maxlength="500"></textarea>
            </div>
          </div>
        <!-- </div> -->
      </form>
    </section>

    <section>
      <h2>日期选择</h2>
      <div class="mc-calendar">
        <div class="mc-calendar-text-container">
          <input readonly class="mc-calendar-text" type="text" placeholder="请选择"></input>
          <span class="mc-calendar-icon"></span>
        </div>
      </div>
    </section>

    <section>
      <h2>复选</h2>
        <div class="mc-checkbox">
          <label class="mc-checkbox-item">
            <input type="checkbox" name="a"></input>
            <span class="mc-checkbox-icon"></span>
            选项1
          </label>
          <label class="mc-checkbox-item checked">
            <input type="checkbox" name="a"></input>
            <span class="mc-checkbox-icon"></span>
            选项2
          </label>
          <label class="mc-checkbox-item">
            <input type="checkbox" name="a"></input>
            <span class="mc-checkbox-icon"></span>
            选项3
          </label>
        </div>
    </section>

    <section>
      <h2>单选</h2>
      <div class="mc-form-item">
        <div class="mc-radio" type="plus">
          <label class="mc-radio-item">
            <input type="radio" name="name1"></input>
            <span class="mc-radio-icon"></span>
            <span>选项1</span>
          </label>
          <label class="mc-radio-item">
            <input type="radio" name="name1"></input>
            <span class="mc-radio-icon"></span>
            <span>选项2</span>
          </label>
          <label class="mc-radio-item">
            <input type="radio" name="name1"></input>
            <span class="mc-radio-icon"></span>
            <span>选项3</span>
          </label>
        </div>
      </div>
    </section>
    <section>
      <h2>单选2</h2>
      <div class="mc-radio" type="check">
        <label class="mc-radio-item">
          <input type="radio" name="name2"></input>
          <span>选项1</span>
          <span class="mc-radio-icon"></span>

        </label>
        <label class="mc-radio-item">
          <input type="radio" name="name2"></input>
          <span>选项2</span>
          <span class="mc-radio-icon"></span>
        </label>
        <label class="mc-radio-item">
          <input type="radio" name="name2"></input>
          <span>选项3</span>
          <span class="mc-radio-icon"></span>
        </label>
      </div>
    </section>
    <section>
        <h2>单选3</h2>
        <div class="mc-radio" type="inline">
          <label class="mc-radio-item">
            <input type="radio" name="name3"></input>
            <span>选项1</span>
          </label>
          <label class="mc-radio-item">
            <input type="radio" name="name3"></input>
            <span>选项2</span>
          </label>
          <label class="mc-radio-item">
            <input type="radio" name="name3"></input>
            <span>选项3</span>
          </label>
        </div>
      </section>

    <section>
      <h2>Tab</h2>
      <div class="mc-tab">
        <div class="mc-tab-btns">
            <span class="mc-tab-btn active">tab1</span>
            <span class="mc-tab-btn">tab2</span>
            <span class="mc-tab-btn">tab3</span>
        </div>
        <div class="mc-tab-panels">
            <div class="mc-tab-panel active">tab1 content</div>
            <div class="mc-tab-panel">tab2 content</div>
            <div class="mc-tab-panel">tab3 content</div>
        </div>
      </div>

      <div class="mc-tab" size="small">
          <div class="mc-tab-btns">
              <span class="mc-tab-btn active">tab1</span>
              <span class="mc-tab-btn">tab2</span>
          </div>
          <div class="mc-tab-panels">
              <div class="mc-tab-panel active">tab1 content</div>
              <div class="mc-tab-panel">tab2 content</div>
          </div>
        </div>
    </section>

    <section>
      <h2>select</h2>
      <div class="mc-form-item-group">
        <div class="mc-form-item full">
          <label>选择很长很长很长很长1</label>
          <div class="mc-select" type="rect">
            <div class="mc-select-text-container">
              <span class="mc-select-text" placeholder="请选择"></span>
              <input class="mc-select-value" type="hidden">
              <span class="mc-select-icon"></span>
            </div>
            <ul class="mc-select-option-container">
              <li class="mc-select-option" data-value="1">北京</li>
              <li class="mc-select-option" data-value="2">上海</li>
              <li class="mc-select-option" data-value="3">杭州</li>
            </ul>
          </div>
        </div>
        <div class="mc-form-item full">
          <label>选择2</label>
          <div class="mc-select" type="rect">
            <div class="mc-select-text-container">
              <span class="mc-select-text" placeholder="请选择"></span>
              <input class="mc-select-value" readonly type="hidden">
              <span class="mc-select-icon"></span>
            </div>
            <ul class="mc-select-option-container">
              <li class="mc-select-option" data-value="1">北京</li>
              <li class="mc-select-option" data-value="2">上海</li>
              <li class="mc-select-option" data-value="3">杭州</li>
            </ul>
          </div>
        </div>
      </div>

      <h3>圆角</h3>
      <div class="mc-select">
        <div class="mc-select-text-container">
          <span class="mc-select-text" placeholder="请选择"></span>
          <input class="mc-select-value" readonly type="hidden">
          <span class="mc-select-icon"></span>
        </div>
        <ul class="mc-select-option-container">
          <li class="mc-select-option" data-value="1">北京</li>
          <li class="mc-select-option" data-value="2">上海</li>
          <li class="mc-select-option" data-value="3">杭州</li>
        </ul>
      </div>
      <h3>无圆角</h3>
      <div class="mc-select" type="rect">
        <div class="mc-select-text-container">
          <span class="mc-select-text" placeholder="请选择"></span>
          <input class="mc-select-value" readonly type="hidden">
          <span class="mc-select-icon"></span>
        </div>
        <ul class="mc-select-option-container">
          <li class="mc-select-option" data-value="1">北京</li>
          <li class="mc-select-option" data-value="2">上海</li>
          <li class="mc-select-option" data-value="3">杭州</li>
        </ul>
      </div>
      <h3>自动补全</h3>
      <div class="mc-auto-complete">
        <div class="mc-auto-complete-text-container">
          <input class="mc-auto-complete-text" type="text" placeholder="请选择或输入">
          <input class="mc-auto-complete-value" readonly type="hidden">
        </div>
        <ul class="mc-auto-complete-option-container">
          <li class="mc-auto-complete-option" data-value="1">北京</li>
          <li class="mc-auto-complete-option" data-value="2">上海</li>
          <li class="mc-auto-complete-option" data-value="3">杭州</li>
        </ul>
      </div>
    </section>

    <section>
      <h2>弹窗</h2>
      <button class="dialog-confirm">confirm</button>
      <button class="dialog-alert">alert</button>
      <button class="dialog-complex">complex</button>
      <button class="dialog-toast">toast</button>
      <button class="dialog-tip">tip</button>
      <button class="dialog-actionsheet">actionSheet</button>
      <button class="dialog-loading-show">show loading</button>
      <button class="dialog-loading-hide">hide loading</button>
    </section>

    <section>
      <h2>图片上传</h2>
      <div class="mc-image-uploader">
        <div class="mc-image-uploader-list">
        </div>
      </div>
    </section>

    <div id="percentage"></div>
    <!-- <script src="./zepto/dist/zepto.js"></script> -->
    <script src="jquery/dist/jquery.js"></script>
    <script src="./m-components.js"></script>
    <script>
      new mc.MobileSelect({
        trigger: '.select-content',

        title: 'keyMap',
        wheels: [
          {data:[
            {
              id:'1',
              title:'A',
              children:[
                {id:'A1',title:'A-a'},
                {id:'A2',title:'A-b'},
                {id:'A3',title:'A-c'}
              ]
            },
            {
              id:'1',
              title:'B',
              children:[
                {id:'B1',title:'B-a'},
                {id:'B2',title:'B-b'},
                {id:'B3',title:'B-c'}
              ]
            },
          ]}
        ],
        keyMap: {
            id:'id',
            value: 'title',
            childs :'children'
        },
        callback:function(indexArr, data){
            console.log(data);
        }
      })
    </script>
    <script>
      // 选择
      $.each($('.mc-select'), function(index, dom) {
        new mc.Select(dom, {
          // 暂无配置项
        })
      })

      // 自动补全
      $.each($('.mc-auto-complete'), function(index, dom) {
        new mc.AutoComplete(dom, {
          // 暂无配置项
        })
      })
    </script>

    <script>
      // tab
      $.each($('.mc-tab'), function(index, dom) {
        new mc.Tab(dom, {
          // 暂无配置项
        })
      })
      $('.mc-tab').on('tab:change', function(e, index) {
        console.log(arguments)
        console.log(index);
      })
    </script>

    <script>
      // 日期选择
      new mc.Calendar($('.mc-calendar'), {
        // 暂无配置项
      })
    </script>
    <script>
      // 图片上传
      const imageUploader = new mc.ImageUploader($('.mc-image-uploader'), {
        action: '/upload', // 上传接口
        uploadFileKey: 'image',
        maxLen: 2,
        compressor: {
          quality: 0.6,
          maxWidth: 1000,
        },
        fileList: [
          {
            thumbnail: 'https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/home/img/qrcode/zbios_x2_5869f49.png',
            status: 'done',
            data: {a: 1},
          },
          {
            thumbnail: 'https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/home/img/qrcode/zbios_x2_5869f49.png',
            status: 'done',
            data: {a: 2},
          }
        ],
        customTrigger: function() {
          selectImageActionSheet.show();
        },
        // 接收返回数据 判断是否上传成功， 返回true为成果 false为失败
        judger: function(data) {
          return data.status === 0
        },

        getExtraParams: function() {

        },
        beforeUpload: function(upObj) {
          return upObj;
        },

        // 图片列表变化时触发 返回包含文件对象的数组
        onChange: function(fileList) {
          console.log('onChange')
          console.log(fileList)
        },

        // 预览，点击图片时触发
        onPreview: function(fileList, index) {
          console.log('onPreview')
          console.log(fileList, index)
        },

        onRemove: function(file, index, fileList) {
          console.log('onRemove')
          console.log(file, index, fileList)
        },
        beforeRemove: function(file, index, fileList, cb) {
          console.log('beforeRemove')
          console.log(file, index, fileList)
          cb()
        }
      })
    </script>
    <script>
      const dialogs = {
        // dialog绑定事件只能在初始化时指定
        alert: new mc.Alert({
          buttonText: '确认', // 按钮文本
          contentHTML: '警告弹出窗', // 内容文本，可传html
          // 确认回调 如果指定回调，必须显显示调用hide方法，或done确认回调执行完毕，关闭窗口；
          onConfirm: function(done) {
            console.log('点了确认');
            done();
          },
        }),
        confirm: new mc.Confirm({
          cancelButtonText: '取消',
          confirmButtonText: '确认',
          contentHTML: '确认弹出窗',
          // 确认回调
          onConfirm: function(done) {
            console.log('点了确认');
            done();
          },
          // 取消回调
          onCancel: function(done) {
            console.log('点了取消');
            done();
          },
        }),

        complex: new mc.Complex({
          contentHTML: '确认弹出窗',
          className: 'dialog-bind-fail',
          buttons: [
            {
              text: '按钮1',
              onClick: function(done) {
                console.log('按钮1')
                done()
              }
            },
            {
              text: '按钮2',
              onClick: function(done) {
                console.log('按钮2')
                done()
              }
            },
            {
              text: '取消',
              className: 'cancel',
              onClick: function(done) {
                done()
              }
            }
          ]
        }),

        toast: new mc.Toast({
          useMask: false, // 缺省 false
          duration: 3000, // toast默认时长 缺省为2000ms
        }),

        tip: new mc.Tip({
          useMask: false, // 缺省 false
          duration: 3000, // toast默认时长 缺省为2000ms
        }),

        actionSheet: new mc.ActionSheet({
          useMask: true,
          buttons: [{
            text: '选择项1',
            onClick: function(content) {
              console.log(content)
            }
          }, {
            text: '选择项1',
            onClick: function(content) {
              console.log(content)
            }
          }]
        }),
        loading: new mc.Loading({
          useMask: false
        }),

      }
      $('.dialog-alert').on('click', function() {
        dialogs.alert.show({
          contentHTML: '这里可以修改弹出内容' //每次显示可修改内容
        })
      })

      $('.dialog-confirm').on('click', function() {
        dialogs.confirm.show({
          contentHTML: '这里可以修改弹出内容' //每次显示可修改内容
        })
      })

      $('.dialog-complex').on('click', function() {
        dialogs.complex.show({
          contentHTML: '这里可以修改弹出内容' //每次显示可修改内容
        })
      })

      $('.dialog-toast').on('click', function() {
        dialogs.toast.show({
          contentHTML: '这里可以修改弹出内容', //每次显示可修改内容
          duration: 3000 // 这里可以修改显示时间
        })
      })

      $('.dialog-tip').on('click', function() {
        dialogs.tip.show({
          contentHTML: '这里可以修改弹出内容', //每次显示可修改内容
          duration: 3000 // 这里可以修改显示时间
        })
      })

      $('.dialog-actionsheet').on('click', function() {
        dialogs.actionSheet.show()
      })

      $('.dialog-loading-show').on('click', function() {
        dialogs.loading.show()
      })

      $('.dialog-loading-hide').on('click', function() {
        dialogs.loading.hide()
      })

      $('.mc-calendar-text').on('change', function(e) {
        console.log(this.value)
      })

      const selectImageActionSheet = new mc.ActionSheet({
        useMask: true,
        buttons: [{
            text: '相机',
            onClick: function(content) {
              imageUploader.pickWithCamera()
            }
          }, {
            text: '文件',
            onClick: function(content) {
              imageUploader.pickFile()
            }
          }]
      })
    </script>
</body>

</html>
